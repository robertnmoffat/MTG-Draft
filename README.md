# Description

This project is meant as a practice exercise in creating a full react app. There are other sites which have the same functionality and better drafting logic. This project is only meant to show a fully developed react app utilizing data accessed from an external API.<br>
A running example of the project can be found [here.](http://143.198.62.169:3535/) <br>
(Note: This app would be significantly sped up if it stored card information and images locally but this project was meant to illustrate capability in using external APIs.)

#### Update

The external Magic the Gathering API has become very slow. This has caused the site to become more or less unuseable with card requests taking ~1 minute to be completed. I will likely be moving to a local server containing card information, but for the meantime it is unfortuneately very very slow.

## Drafting process

If you are not familiar with the drafting process it is as follows:
1. Eight players are each given three sealed packs of cards.
2. Each pack contains fourteen randomized cards.
3. Each player removes one card from their pack and then passes the remaining fourteen cards to the player at their side.
4. This process is repeated until all of the cards have been selected.
5. The next pack is opened and the process is then repeated with this pack, passing cards to the opposite side instead.
6. Finally the process is repeated with the final pack after which all of the cards will have been drafted and decks will be built.
<br><br>
This project is only meant to emulate the drafting process up to the point which deck building begins.

## Technical
This project utilizes the [Magic the Gathering API](https://docs.magicthegathering.io/) to access external card information.
<br>
There are three main phases to the website:
1. Set selection
2. Card selection
3. Viewing selection statistics

### Set Selection
Set selection is populated by calling the /sets route on the API. This returns all Magic the Gathering sets, which are then filtered for expansions and core sets. The newest set is also filtered out as it has not been populated with data yet.<br>
From here the filtered set list is sorted based on release date so that the newest sets are displayed first.<br>
The three selected sets are stored in a state which is passed on to the next section.
### Card Selection
In this section packs are generated by the API and displayed on screen for selection. Initially this was done using the built in booster route. Unfortunately this was returning low quality data. Missing cards, never returning mythic rare cards, and some sets simply responding with a 404 error. To fix this I changed it to make three filtered requests. First a request for a single rare or mythic card, Second request for three uncommon cards, and finally a request for ten common cards. These three arrays are appended and returned as a single pack array.<br>
From here the cards are displayed using the imageUrl within the card object.<br> 
This leads to the next problem with the API which was missing imageUrls. For this I used a formatted react component to display the card title, mana cost, description, and stats (if a creature) rather than using a card image.<br>
Every time a card is selected, the next pack is displayed. If the next pack does not yet exist in memory it is requested from the API, and cards removed equal to the amount of card selections which would have happened by other players. When all cards have been selected a new pack is generated based on the next set. When three packs have been fully selected the final statistic viewing section is loaded.
### Viewing Selection Statistics
Every time a card is selected by the user it's types and colours are recorded. When this final section is loaded those stats are displayed as a percentage of total picks. A pie chart visualizing the card types picked is also displayed for the user.
